C++ version of ID Detector 